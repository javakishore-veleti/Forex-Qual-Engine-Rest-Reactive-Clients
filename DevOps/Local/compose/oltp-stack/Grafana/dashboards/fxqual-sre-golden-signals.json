{
  "title": "FX Qual â€“ SRE Golden Signals",
  "uid": "fxqual-sre-signals",
  "schemaVersion": 39,
  "tags": ["sre", "fxqual"],
  "version": 1,
  "refresh": "10s",
  "panels": [
    {
      "type": "stat",
      "title": "Request Rate (RPS)",
      "gridPos": {"x":0,"y":0,"w":6,"h":4},
      "datasource": "Prometheus",
      "targets": [{
        "expr": "sum(rate(http_server_requests_seconds_count{service=\"fx-qual-engine\"}[1m]))"
      }]
    },
    {
      "type": "stat",
      "title": "Error Rate (%)",
      "gridPos": {"x":6,"y":0,"w":6,"h":4},
      "datasource": "Prometheus",
      "targets": [{
        "expr": "sum(rate(http_server_requests_seconds_count{status!~\"2..\",service=\"fx-qual-engine\"}[1m])) / sum(rate(http_server_requests_seconds_count{service=\"fx-qual-engine\"}[1m])) * 100"
      }]
    },
    {
      "type": "graph",
      "title": "Latency p50 / p95 / p99",
      "gridPos": {"x":0,"y":4,"w":24,"h":8},
      "datasource": "Prometheus",
      "targets": [
        { "legendFormat": "p50", "expr": "histogram_quantile(0.5, sum(rate(http_server_requests_seconds_bucket{service=\"fx-qual-engine\"}[5m])) by (le))" },
        { "legendFormat": "p95", "expr": "histogram_quantile(0.95, sum(rate(http_server_requests_seconds_bucket{service=\"fx-qual-engine\"}[5m])) by (le))" },
        { "legendFormat": "p99", "expr": "histogram_quantile(0.99, sum(rate(http_server_requests_seconds_bucket{service=\"fx-qual-engine\"}[5m])) by (le))" }
      ]
    },
    {
      "type": "graph",
      "title": "CPU Saturation (%)",
      "gridPos": {"x":0,"y":12,"w":12,"h":8},
      "datasource": "Prometheus",
      "targets": [{
        "expr": "rate(process_cpu_seconds_total{service=\"fx-qual-engine\"}[1m]) * 100"
      }]
    },
    {
      "type": "graph",
      "title": "JVM Memory Usage",
      "gridPos": {"x":12,"y":12,"w":12,"h":8},
      "datasource": "Prometheus",
      "targets": [{
        "expr": "jvm_memory_used_bytes{service=\"fx-qual-engine\",area=\"heap\"}"
      }]
    }
  ]
}
